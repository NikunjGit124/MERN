{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nikunj.Tiwari\\\\Desktop\\\\Nikunj Data\\\\ReactJS\\\\PageResponsive\\\\demo\\\\src\\\\Pages\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport SpinnerLoader from \"../../Components/SpinnerLoader/SpinnerLoader\";\nimport { HTTP_SERVICE_CALL, gloabaltoastmessage } from \"../../Components/ApiProvider/ApiProvider\";\nimport \"./Login.css\";\nimport secureLocalStorage from \"react-secure-storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login(_ref) {\n  _s();\n  let {\n    history\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const signInHandler = async event => {\n    setLoading(true);\n    event.preventDefault();\n    let params = {\n      email: email,\n      password: password\n    };\n    try {\n      let response = await HTTP_SERVICE_CALL(\"api/login\", \"POST\", params, \"\");\n      if (response && response.status === 200) {\n        var _response$data;\n        setLoading(false);\n        secureLocalStorage.setItem(\"user\", {\n          token: response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.token\n        });\n        gloabaltoastmessage(response.data.message, 5000, \"success\");\n        history.push(\"/home\");\n      }\n    } catch (error) {\n      console.log(error);\n      gloabaltoastmessage(error.message, 3000, \"error\");\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login_in_div\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"form-signin w-100 m-auto text-center container\",\n      children: [loading && /*#__PURE__*/_jsxDEV(SpinnerLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: signInHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mb-4\",\n          src: \"https://jwt.io/img/pic_logo.svg\",\n          alt: \"\",\n          width: \"72\",\n          height: \"57\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 fw-normal\",\n          children: \"Please sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => {\n              setEmail(e.target.value);\n            },\n            className: \"form-control\",\n            id: \"floatingInput\",\n            placeholder: \"name@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingInput\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating mb-3 mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => {\n              setPassword(e.target.value);\n            },\n            className: \"form-control\",\n            id: \"floatingPassword\",\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"floatingPassword\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-100 btn btn-lg btn-primary\",\n          type: \"submit\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 mb-3 text-muted\",\n          children: [\"New User \", /*#__PURE__*/_jsxDEV(Link, {\n            as: NavLink,\n            to: \"/signup\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"CzeUUSmVILXX1gzi9gPXSCqx2c8=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","NavLink","SpinnerLoader","HTTP_SERVICE_CALL","gloabaltoastmessage","secureLocalStorage","Login","history","email","setEmail","password","setPassword","loading","setLoading","signInHandler","event","preventDefault","params","response","status","setItem","token","data","message","push","error","console","log","e","target","value"],"sources":["C:/Users/Nikunj.Tiwari/Desktop/Nikunj Data/ReactJS/PageResponsive/demo/src/Pages/Login/Login.jsx"],"sourcesContent":["import React,{useState} from \"react\";\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport SpinnerLoader from \"../../Components/SpinnerLoader/SpinnerLoader\";\r\nimport {\r\n  HTTP_SERVICE_CALL,\r\n  gloabaltoastmessage,\r\n} from \"../../Components/ApiProvider/ApiProvider\";\r\nimport \"./Login.css\";\r\nimport  secureLocalStorage  from  \"react-secure-storage\";\r\n\r\nfunction Login({history}) {\r\n  const [email,setEmail] = useState(\"\");\r\n  const [password,setPassword] = useState(\"\");\r\n  const [loading,setLoading] = useState(false);\r\n\r\n  const signInHandler = async (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    let params = {\r\n      email:email,\r\n      password:password\r\n    };\r\n    try {\r\n      let response = await HTTP_SERVICE_CALL(\r\n        \"api/login\",\r\n        \"POST\",\r\n        params,\r\n        \"\"\r\n      );\r\n      if (response && (response.status === 200)) {\r\n        setLoading(false);\r\n        secureLocalStorage.setItem(\"user\", {\r\n          token: response?.data?.token\r\n        });\r\n        gloabaltoastmessage(response.data.message,5000,\"success\");\r\n        history.push(\"/home\")\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      gloabaltoastmessage(error.message,3000,\"error\");\r\n      setLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"login_in_div\">\r\n      <main className=\"form-signin w-100 m-auto text-center container\">\r\n        {loading && <SpinnerLoader/>}   \r\n        <form onSubmit={signInHandler}>\r\n          <img className=\"mb-4\" src=\"https://jwt.io/img/pic_logo.svg\" alt=\"\" width=\"72\" height=\"57\"/>\r\n          <h1 className=\"h3 mb-3 fw-normal\">Please sign in</h1>\r\n          <div className=\"form-floating mb-3\">\r\n            <input type=\"email\" value={email} onChange={(e)=>{setEmail(e.target.value)}} className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\"/>\r\n            <label htmlFor=\"floatingInput\">Email address</label>\r\n          </div>\r\n          <div className=\"form-floating mb-3 mt-3\">\r\n            <input type=\"password\" value={password} onChange={(e)=>{setPassword(e.target.value)}} className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\"/>\r\n            <label htmlFor=\"floatingPassword\">Password</label>\r\n          </div>\r\n          <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Sign in</button>\r\n          <p className=\"mt-3 mb-3 text-muted\">New User <Link as={NavLink} to={\"/signup\"}>Register</Link></p>\r\n        </form>\r\n      </main>\r\n    </div>\r\n    \r\n  );\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}